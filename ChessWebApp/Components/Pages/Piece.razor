@using ChessWebApp.Components.ChessPieces

<DynamicComponent Type="components[PieceType]" Parameters="@parameters" ></DynamicComponent>

@code {
    [Parameter] public char PieceType { get; set; }
    
    private readonly Dictionary<char, Type> components = new()
    {
        ['p'] = typeof(Pawn),
        ['r'] = typeof(Rook),
        ['n'] = typeof(Knight),
        ['k'] = typeof(King),
        ['b'] = typeof(Bishop),
        ['q'] = typeof(Queen),
        ['P'] = typeof(Pawn),
        ['R'] = typeof(Rook),
        ['N'] = typeof(Knight),
        ['K'] = typeof(King),
        ['B'] = typeof(Bishop),
        ['Q'] = typeof(Queen),
        ['.'] = typeof(Empty)
    };
    
    private IDictionary<string, object> parameters;

    protected override void OnParametersSet()
    {
        
        parameters = new Dictionary<string, object>()
        {
            { "IsWhite", !char.IsUpper(PieceType) }
        };
    }

}